#-----------------------------------------------------------
# Vivado v2016.4 (64-bit)
# SW Build 1733598 on Wed Dec 14 22:35:42 MST 2016
# IP Build 1731160 on Wed Dec 14 23:47:21 MST 2016
# Start of session at: Wed Aug 30 15:51:03 2017
# Process ID: 31458
# Current directory: /mnt/workspace/znsoc/Projects/zybo_base_system/zybo_bsd/proj
# Command line: vivado -source create_project.tcl
# Log file: /mnt/workspace/znsoc/Projects/zybo_base_system/zybo_bsd/proj/vivado.log
# Journal file: /mnt/workspace/znsoc/Projects/zybo_base_system/zybo_bsd/proj/vivado.jou
#-----------------------------------------------------------
start_gui
source create_project.tcl
# set proj_name "zybo_bsd"
# if {[info exists ::create_path]} {
# 	set dest_dir $::create_path
# } else {
# 	set dest_dir [file normalize [file dirname [info script]]]
# }
# puts "INFO: Creating new project in $dest_dir"
INFO: Creating new project in /mnt/workspace/znsoc/Projects/zybo_base_system/zybo_bsd/proj
# cd $dest_dir
# set part "xc7z010clg400-1"
# set brd_part "digilentinc.com:zybo:part0:1.0"
# set origin_dir ".."
# set orig_proj_dir "[file normalize "$origin_dir/proj"]"
# set src_dir $origin_dir/src
# set repo_dir $origin_dir/repo
# create_project $proj_name $dest_dir
INFO: [IP_Flow 19-234] Refreshing IP repositories
INFO: [IP_Flow 19-1704] No user IP repositories specified
INFO: [IP_Flow 19-2313] Loaded Vivado IP repository '/mnt/workspace/Xilinx/Vivado/2016.4/data/ip'.
# set proj_dir [get_property directory [current_project]]
# set obj [get_projects $proj_name]
# set_property "default_lib" "xil_defaultlib" $obj
# set_property "part" $part $obj
# set_property "board_part" $brd_part $obj
# set_property "simulator_language" "Mixed" $obj
# set_property "target_language" "VHDL" $obj
# set_property "corecontainer.enable" "0" $obj
# set_property "ip_cache_permissions" "read write" $obj
# set_property "ip_output_repo" "[file normalize "$origin_dir/repo/cache"]" $obj
# if {[string equal [get_filesets -quiet sources_1] ""]} {
#   create_fileset -srcset sources_1
# }
# if {[string equal [get_filesets -quiet constrs_1] ""]} {
#   create_fileset -constrset constrs_1
# }
# set obj [get_filesets sources_1]
# set_property "ip_repo_paths" "[file normalize $repo_dir]" $obj
# update_ip_catalog -rebuild
INFO: [IP_Flow 19-234] Refreshing IP repositories
INFO: [IP_Flow 19-1700] Loaded user IP repository '/mnt/workspace/znsoc/Projects/zybo_base_system/zybo_bsd/repo'.
# add_files -quiet $src_dir/hdl
# add_files -quiet [glob -nocomplain ../src/ip/*/*.xci]
# add_files -fileset constrs_1 -quiet $src_dir/constraints
# if {[string equal [get_runs -quiet synth_1] ""]} {
#   create_run -name synth_1 -part $part -flow {Vivado Synthesis 2015} -strategy "Vivado Synthesis Defaults" -constrset constrs_1
# } else {
#   set_property strategy "Vivado Synthesis Defaults" [get_runs synth_1]
#   set_property flow "Vivado Synthesis 2015" [get_runs synth_1]
# }
# set obj [get_runs synth_1]
# set_property "part" $part $obj
# set_property "steps.synth_design.args.flatten_hierarchy" "none" $obj
# set_property "steps.synth_design.args.directive" "RuntimeOptimized" $obj
# set_property "steps.synth_design.args.fsm_extraction" "off" $obj
# current_run -synthesis [get_runs synth_1]
# if {[string equal [get_runs -quiet impl_1] ""]} {
#   create_run -name impl_1 -part $part -flow {Vivado Implementation 2015} -strategy "Vivado Implementation Defaults" -constrset constrs_1 -parent_run synth_1
# } else {
#   set_property strategy "Vivado Implementation Defaults" [get_runs impl_1]
#   set_property flow "Vivado Implementation 2015" [get_runs impl_1]
# }
# set obj [get_runs impl_1]
# set_property "part" $part $obj
# set_property "steps.opt_design.args.directive" "RuntimeOptimized" $obj
# set_property "steps.place_design.args.directive" "RuntimeOptimized" $obj
# set_property "steps.route_design.args.directive" "RuntimeOptimized" $obj
# current_run -implementation [get_runs impl_1]
# puts "INFO: Project created:$proj_name"
INFO: Project created:zybo_bsd
# set bd_list [glob -nocomplain $src_dir/bd/*/*.bd]
# if {[llength $bd_list] != 0} {
#   add_files -norecurse -quiet -fileset sources_1 [glob -nocomplain $src_dir/bd/*/*.bd]
#   open_bd_design [glob -nocomplain $src_dir/bd/*/*.bd]
#   set design_name [get_bd_designs]
#   set file "$origin_dir/src/bd/$design_name/$design_name.bd"
#   set file [file normalize $file]
#   set file_obj [get_files -of_objects [get_filesets sources_1] [list "*$file"]]
#   if { ![get_property "is_locked" $file_obj] } {
#     set_property "synth_checkpoint_mode" "Hierarchical" $file_obj
#   }
#  
#   # Generate the wrapper 
#   set design_name [get_bd_designs]
#   add_files -norecurse [make_wrapper -files [get_files $design_name.bd] -top -force]
# 
#   set obj [get_filesets sources_1]
#   set_property "top" "${design_name}_wrapper" $obj
# }
Adding cell -- Digilent:digilent:axi_dispctrl:1.0 - axi_dispctrl_0
Adding cell -- Digilent:digilent:axi_dispctrl:1.0 - axi_dispctrl_1
Adding cell -- analogdeviceinc.com:adi:axi_i2s_adi:1.0 - axi_i2s_adi_1
Adding cell -- digilentinc.com:digilent:hdmi_tx:1.0 - hdmi_tx_0
Adding cell -- xilinx.com:ip:axi_gpio:2.0 - BTNs_4Bits
Adding cell -- xilinx.com:ip:axi_gpio:2.0 - LEDs_4Bits
Adding cell -- xilinx.com:ip:axi_gpio:2.0 - SWs_4Bits
Adding cell -- xilinx.com:ip:axi_vdma:6.2 - axi_vdma_0
Adding cell -- xilinx.com:ip:axi_vdma:6.2 - axi_vdma_1
Adding cell -- xilinx.com:ip:xlconstant:1.1 - ground
Adding cell -- xilinx.com:ip:processing_system7:5.5 - processing_system7_0
Adding cell -- xilinx.com:ip:xlconstant:1.1 - vdd
Adding cell -- xilinx.com:ip:xlconstant:1.1 - xlconstant_0
Adding cell -- xilinx.com:ip:proc_sys_reset:5.0 - rst_ps7_0_100M
Adding cell -- xilinx.com:ip:proc_sys_reset:5.0 - rst_ps7_0_150M
WARNING: [BD 41-1731] Type mismatch between connected pins: /processing_system7_0/FCLK_CLK2(clk) and /axi_i2s_adi_1/DATA_CLK_I(undef)
Adding cell -- xilinx.com:ip:axi_crossbar:2.1 - xbar
Adding cell -- xilinx.com:ip:axi_protocol_converter:2.1 - auto_pc
Adding cell -- xilinx.com:ip:axi_crossbar:2.1 - xbar
Adding cell -- xilinx.com:ip:axi_protocol_converter:2.1 - auto_pc
Successfully read diagram <system> from BD file <../src/bd/system/system.bd>
open_bd_design: Time (s): cpu = 00:00:13 ; elapsed = 00:00:06 . Memory (MB): peak = 6246.754 ; gain = 366.316 ; free physical = 1159 ; free virtual = 14738
# set sdk_dir $origin_dir/sdk
# set hw_list [glob -nocomplain $sdk_dir/*hw_platform*]
# if {[llength $hw_list] != 0} {
#   foreach hw_plat $hw_list {
# 	file delete -force $hw_plat
#   }
# }
# set sdk_list [glob -nocomplain $sdk_dir/*]
# set sdk_list [lsearch -inline -all -not -exact $sdk_list "../sdk/.keep"]
# if {[llength $sdk_list] != 0} {
# 	exec xsct -eval "setws -switch ../sdk; importproject ../sdk"
# }
exit
INFO: [Common 17-206] Exiting Vivado at Wed Aug 30 15:52:22 2017...
